{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/ecommerce-project/frontend/components/Product/ProductCard.jsx"],"sourcesContent":["// components/Product/ProductCard.jsx\r\n\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { ShoppingCart, Heart } from 'lucide-react';\r\nimport { useCart } from '../../context/CartContext';\r\n\r\nconst ProductCard = ({ product }) => {\r\n    const { addToCart, toggleFavorite, isInCart, isFavorite } = useCart();\r\n    const [isAdding, setIsAdding] = useState(false);\r\n    const [isFavoriting, setIsFavoriting] = useState(false);\r\n\r\n    // Recibimos el objeto product completo en lugar de propiedades individuales\r\n    const { nombre, precio, barcode, categoria, descripcion, stock } = product || {};\r\n\r\n    // Funci√≥n para agregar al carrito\r\n    const handleAddToCart = async (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        \r\n        setIsAdding(true);\r\n        addToCart(product);\r\n        \r\n        // Simular un peque√±o delay para mejor UX\r\n        setTimeout(() => {\r\n            setIsAdding(false);\r\n        }, 500);\r\n    };\r\n\r\n    // Funci√≥n para toggle favorito\r\n    const handleToggleFavorite = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        \r\n        setIsFavoriting(true);\r\n        toggleFavorite(product);\r\n        \r\n        setTimeout(() => {\r\n            setIsFavoriting(false);\r\n        }, 300);\r\n    };\r\n\r\n    // Funci√≥n segura para formatear el precio\r\n    const formatPrice = (priceValue) => {\r\n        if (priceValue === null || priceValue === undefined || priceValue === '') {\r\n            return 'N/A';\r\n        }\r\n        \r\n        try {\r\n            // Convertir a n√∫mero si es string\r\n            const numericPrice = typeof priceValue === 'number' \r\n                ? priceValue \r\n                : parseFloat(priceValue);\r\n            \r\n            // Verificar si es un n√∫mero v√°lido\r\n            if (isNaN(numericPrice)) {\r\n                return 'N/A';\r\n            }\r\n            \r\n            // Formatear a 2 decimales\r\n            return numericPrice.toFixed(2);\r\n        } catch (error) {\r\n            console.error('Error formateando precio:', error);\r\n            return 'N/A';\r\n        }\r\n    };\r\n\r\n    // Funci√≥n para obtener el √≠cono de categor√≠a\r\n    const getCategoryIcon = (category) => {\r\n        const icons = {\r\n            'supermercado': 'üõí',\r\n            'electrodomesticos': 'üè†',\r\n            'jugueteria': 'üß∏',\r\n            'tecnologia': 'üíª',\r\n            'bebidas': 'ü•§'\r\n        };\r\n        return icons[category] || 'üì¶';\r\n    };\r\n\r\n    // Funci√≥n para obtener el color de categor√≠a\r\n    const getCategoryColor = (category) => {\r\n        const colors = {\r\n            'supermercado': 'bg-green-100 text-green-800 border-green-200',\r\n            'electrodomesticos': 'bg-blue-100 text-blue-800 border-blue-200',\r\n            'jugueteria': 'bg-orange-100 text-orange-800 border-orange-200',\r\n            'tecnologia': 'bg-purple-100 text-purple-800 border-purple-200',\r\n            'bebidas': 'bg-red-100 text-red-800 border-red-200'\r\n        };\r\n        return colors[category] || 'bg-gray-100 text-gray-800 border-gray-200';\r\n    };\r\n\r\n    // Funci√≥n para obtener el estado del stock\r\n    const getStockStatus = (stock) => {\r\n        if (stock === undefined || stock === null) return null;\r\n        if (stock === 0) return { text: 'Agotado', color: 'text-red-600', bg: 'bg-red-50' };\r\n        if (stock < 5) return { text: `Solo ${stock} disponibles`, color: 'text-orange-600', bg: 'bg-orange-50' };\r\n        if (stock < 10) return { text: `Poco stock`, color: 'text-yellow-600', bg: 'bg-yellow-50' };\r\n        return { text: `En stock`, color: 'text-green-600', bg: 'bg-green-50' };\r\n    };\r\n\r\n    const formattedPrice = formatPrice(precio);\r\n    const stockStatus = getStockStatus(stock);\r\n    const productIsInCart = isInCart(barcode);\r\n    const productIsFavorite = isFavorite(barcode);\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 group relative\">\r\n            \r\n            {/* Bot√≥n de favoritos */}\r\n            <button\r\n                onClick={handleToggleFavorite}\r\n                disabled={isFavoriting}\r\n                className={`absolute top-3 right-3 z-10 p-2 rounded-full shadow-md transition-all duration-200 ${\r\n                    productIsFavorite \r\n                        ? 'bg-red-500 text-white hover:bg-red-600' \r\n                        : 'bg-white text-gray-400 hover:bg-gray-50 hover:text-red-500'\r\n                } ${isFavoriting ? 'scale-110' : ''}`}\r\n            >\r\n                <Heart \r\n                    size={18} \r\n                    fill={productIsFavorite ? \"currentColor\" : \"none\"}\r\n                    className={isFavoriting ? 'animate-pulse' : ''}\r\n                />\r\n            </button>\r\n\r\n            {/* Imagen del producto */}\r\n            <div className=\"relative overflow-hidden\">\r\n                <img \r\n                    src=\"https://placehold.co/600x400/6B7280/ffffff?text=Producto\" \r\n                    alt={nombre} \r\n                    className=\"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                />\r\n                \r\n                {/* Badge de categor√≠a */}\r\n                <div className=\"absolute top-3 left-3\">\r\n                    <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getCategoryColor(categoria)}`}>\r\n                        <span className=\"mr-1\">{getCategoryIcon(categoria)}</span>\r\n                        {categoria || 'Sin categor√≠a'}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Contenido del producto */}\r\n            <div className=\"p-5\">\r\n                <h3 className=\"text-xl font-semibold text-gray-800 truncate mb-2 group-hover:text-indigo-600 transition-colors\">\r\n                    {nombre || 'Producto sin nombre'}\r\n                </h3>\r\n                \r\n                {descripcion && (\r\n                    <p className=\"text-gray-600 text-sm mb-3 line-clamp-2\">\r\n                        {descripcion}\r\n                    </p>\r\n                )}\r\n                \r\n                <p className=\"text-2xl font-bold text-indigo-700 mb-3\">${formattedPrice}</p>\r\n                \r\n                {/* Informaci√≥n adicional */}\r\n                <div className=\"space-y-2 mb-4\">\r\n                    <p className=\"text-sm text-gray-500\">C√≥digo: {barcode}</p>\r\n                    \r\n                    {stockStatus && (\r\n                        <div className={`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${stockStatus.bg} ${stockStatus.color}`}>\r\n                            {stockStatus.text}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                \r\n                {/* Bot√≥n de agregar al carrito */}\r\n                <button \r\n                    onClick={handleAddToCart}\r\n                    disabled={isAdding || (stock !== undefined && stock === 0)}\r\n                    className={`w-full py-3 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center ${\r\n                        isAdding || productIsInCart\r\n                            ? 'bg-green-600 text-white cursor-not-allowed' \r\n                            : (stock === 0 \r\n                                ? 'bg-gray-400 text-gray-200 cursor-not-allowed' \r\n                                : 'bg-green-500 text-white hover:bg-green-600 hover:shadow-md')\r\n                    }`}\r\n                >\r\n                    {isAdding ? (\r\n                        <>\r\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                            Agregando...\r\n                        </>\r\n                    ) : productIsInCart ? (\r\n                        <>\r\n                            <ShoppingCart size={18} className=\"mr-2\" />\r\n                            ‚úÖ En carrito\r\n                        </>\r\n                    ) : stock === 0 ? (\r\n                        '‚ùå Agotado'\r\n                    ) : (\r\n                        <>\r\n                            <ShoppingCart size={18} className=\"mr-2\" />\r\n                            Agregar al Carrito\r\n                        </>\r\n                    )}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductCard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/ecommerce-project/frontend/components/shared/PromoCarousel.jsx"],"sourcesContent":["// components/shared/PromoCarousel.jsx - C√ìDIGO COMPLETO ACTUALIZADO\r\n\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\n\r\n// Iconos SVG inline mejorados\r\nconst ChevronLeft = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" className=\"text-gray-800\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n  </svg>\r\n);\r\n\r\nconst ChevronRight = () => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" className=\"text-gray-800\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n  </svg>\r\n);\r\n\r\nconst PromoCarousel = () => {\r\n    const banners = [\r\n        { \r\n            title: \"OFERTAS FLASH üî•\", \r\n            subtitle: \"Compra hoy y recibe tu pedido en 24h.\", \r\n            bgColor: \"bg-gradient-to-r from-gray-900 to-gray-700\",\r\n            textColor: \"text-white\",\r\n            buttonColor: \"bg-yellow-400 hover:bg-yellow-300 text-gray-900\"\r\n        },\r\n        { \r\n            title: \"BLACK FRIDAY\", \r\n            subtitle: \"¬°Hasta 70% de descuento en electr√≥nica!\", \r\n            bgColor: \"bg-gradient-to-r from-red-800 to-red-600\",\r\n            textColor: \"text-white\",\r\n            buttonColor: \"bg-white hover:bg-gray-100 text-red-800\"\r\n        },\r\n        { \r\n            title: \"TECNOLOG√çA üöÄ\", \r\n            subtitle: \"Los mejores precios en laptops y smartphones\", \r\n            bgColor: \"bg-gradient-to-r from-blue-800 to-blue-600\",\r\n            textColor: \"text-white\",\r\n            buttonColor: \"bg-cyan-400 hover:bg-cyan-300 text-gray-900\"\r\n        },\r\n    ];\r\n    \r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n    const nextSlide = () => {\r\n        setCurrentIndex((prevIndex) => (prevIndex + 1) % banners.length);\r\n    };\r\n\r\n    const prevSlide = () => {\r\n        setCurrentIndex((prevIndex) => (prevIndex - 1 + banners.length) % banners.length);\r\n    };\r\n\r\n    // Auto-avance cada 5 segundos\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            nextSlide();\r\n        }, 5000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const currentBanner = banners[currentIndex];\r\n\r\n    return (\r\n        <div className={`promo-carousel ${currentBanner.bgColor} py-16 md:py-24 overflow-hidden shadow-2xl transition-all duration-500`}>\r\n            {/* Efecto de part√≠culas de fondo */}\r\n            <div className=\"absolute inset-0 opacity-5\">\r\n                <div className=\"absolute top-10 left-10 w-20 h-20 bg-white rounded-full\"></div>\r\n                <div className=\"absolute bottom-20 right-20 w-16 h-16 bg-white rounded-full\"></div>\r\n                <div className=\"absolute top-1/2 left-1/3 w-12 h-12 bg-white rounded-full\"></div>\r\n            </div>\r\n            \r\n            <div className=\"container-custom flex justify-center items-center relative z-10\">\r\n                <div className={`promo-carousel-content ${currentBanner.textColor} max-w-4xl`}>\r\n                    <h2 className=\"promo-carousel-title\">\r\n                        {currentBanner.title}\r\n                    </h2>\r\n                    <p className=\"promo-carousel-subtitle\">\r\n                        {currentBanner.subtitle}\r\n                    </p>\r\n                    <button className={`promo-carousel-button ${currentBanner.buttonColor}`}>\r\n                        Ver Cat√°logo Ahora ‚ñ∂\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Botones de navegaci√≥n */}\r\n            <button \r\n                onClick={prevSlide}\r\n                className=\"absolute top-1/2 left-6 transform -translate-y-1/2 bg-white bg-opacity-90 hover:bg-opacity-100 p-3 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 z-20 focus-ring\"\r\n                aria-label=\"Anterior\"\r\n            >\r\n                <ChevronLeft />\r\n            </button>\r\n            <button \r\n                onClick={nextSlide}\r\n                className=\"absolute top-1/2 right-6 transform -translate-y-1/2 bg-white bg-opacity-90 hover:bg-opacity-100 p-3 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 z-20 focus-ring\"\r\n                aria-label=\"Siguiente\"\r\n            >\r\n                <ChevronRight />\r\n            </button>\r\n\r\n            {/* Indicadores mejorados */}\r\n            <div className=\"absolute bottom-6 left-0 right-0 flex justify-center space-x-3 z-20\">\r\n                {banners.map((_, index) => (\r\n                    <button\r\n                        key={index}\r\n                        onClick={() => setCurrentIndex(index)}\r\n                        className={`w-4 h-4 rounded-full transition-all duration-300 focus-ring ${\r\n                            index === currentIndex \r\n                                ? 'bg-white scale-125' \r\n                                : 'bg-white bg-opacity-50 hover:bg-opacity-75'\r\n                        }`}\r\n                        aria-label={`Ir a slide ${index + 1}`}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n//hola//\r\nexport default PromoCarousel;"],"names":[],"mappings":"AAAA,oEAAoE;;;;;;AAGpE;AAFA;;;AAIA,8BAA8B;AAC9B,MAAM,cAAc,kBAClB,qKAAC;QAAI,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,WAAU;kBAC1F,cAAA,qKAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,aAAa;YAAG,GAAE;;;;;;;;;;;AAIzE,MAAM,eAAe,kBACnB,qKAAC;QAAI,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QAAO,QAAO;QAAe,WAAU;kBAC1F,cAAA,qKAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,aAAa;YAAG,GAAE;;;;;;;;;;;AAIzE,MAAM,gBAAgB;IAClB,MAAM,UAAU;QACZ;YACI,OAAO;YACP,UAAU;YACV,SAAS;YACT,WAAW;YACX,aAAa;QACjB;QACA;YACI,OAAO;YACP,UAAU;YACV,SAAS;YACT,WAAW;YACX,aAAa;QACjB;QACA;YACI,OAAO;YACP,UAAU;YACV,SAAS;YACT,WAAW;YACX,aAAa;QACjB;KACH;IAED,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAC;IAEjD,MAAM,YAAY;QACd,gBAAgB,CAAC,YAAc,CAAC,YAAY,CAAC,IAAI,QAAQ,MAAM;IACnE;IAEA,MAAM,YAAY;QACd,gBAAgB,CAAC,YAAc,CAAC,YAAY,IAAI,QAAQ,MAAM,IAAI,QAAQ,MAAM;IACpF;IAEA,8BAA8B;IAC9B,IAAA,gHAAS,EAAC;QACN,MAAM,WAAW,YAAY;YACzB;QACJ,GAAG;QACH,OAAO,IAAM,cAAc;IAC/B,GAAG,EAAE;IAEL,MAAM,gBAAgB,OAAO,CAAC,aAAa;IAE3C,qBACI,qKAAC;QAAI,WAAW,CAAC,eAAe,EAAE,cAAc,OAAO,CAAC,sEAAsE,CAAC;;0BAE3H,qKAAC;gBAAI,WAAU;;kCACX,qKAAC;wBAAI,WAAU;;;;;;kCACf,qKAAC;wBAAI,WAAU;;;;;;kCACf,qKAAC;wBAAI,WAAU;;;;;;;;;;;;0BAGnB,qKAAC;gBAAI,WAAU;0BACX,cAAA,qKAAC;oBAAI,WAAW,CAAC,uBAAuB,EAAE,cAAc,SAAS,CAAC,UAAU,CAAC;;sCACzE,qKAAC;4BAAG,WAAU;sCACT,cAAc,KAAK;;;;;;sCAExB,qKAAC;4BAAE,WAAU;sCACR,cAAc,QAAQ;;;;;;sCAE3B,qKAAC;4BAAO,WAAW,CAAC,sBAAsB,EAAE,cAAc,WAAW,EAAE;sCAAE;;;;;;;;;;;;;;;;;0BAOjF,qKAAC;gBACG,SAAS;gBACT,WAAU;gBACV,cAAW;0BAEX,cAAA,qKAAC;;;;;;;;;;0BAEL,qKAAC;gBACG,SAAS;gBACT,WAAU;gBACV,cAAW;0BAEX,cAAA,qKAAC;;;;;;;;;;0BAIL,qKAAC;gBAAI,WAAU;0BACV,QAAQ,GAAG,CAAC,CAAC,GAAG,sBACb,qKAAC;wBAEG,SAAS,IAAM,gBAAgB;wBAC/B,WAAW,CAAC,4DAA4D,EACpE,UAAU,eACJ,uBACA,8CACR;wBACF,cAAY,CAAC,WAAW,EAAE,QAAQ,GAAG;uBAPhC;;;;;;;;;;;;;;;;AAa7B;uCAEe"}},
    {"offset": {"line": 523, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/ecommerce-project/frontend/pages/index.jsx"],"sourcesContent":["// frontend/pages/index.jsx - SIN FOOTER (ya est√° en _app.jsx)\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport ProductCard from '../components/Product/ProductCard';\r\nimport PromoCarousel from '../components/shared/PromoCarousel';\r\n// ‚ùå REMOVED: import Footer from '../components/Layout/Footer';\r\n\r\nconst HomePage = ({ products, error }) => {\r\n  const [categorias, setCategorias] = useState([]);\r\n  const [loadingCategorias, setLoadingCategorias] = useState(true);\r\n  const [categoriasError, setCategoriasError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchCategorias();\r\n  }, []);\r\n\r\n  const fetchCategorias = async () => {\r\n    try {\r\n      console.log('üîç Iniciando carga de categor√≠as...');\r\n      \r\n      const res = await fetch('/api/categorias');\r\n      \r\n      console.log('üì° Respuesta de API:', res.status);\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(`Error HTTP: ${res.status}`);\r\n      }\r\n      \r\n      const data = await res.json();\r\n      console.log('üì¶ Datos recibidos:', data);\r\n      \r\n      if (data.success && Array.isArray(data.data)) {\r\n        console.log(`‚úÖ ${data.data.length} categor√≠as cargadas`);\r\n        setCategorias(data.data);\r\n      } else {\r\n        throw new Error('Estructura de datos inv√°lida de la API');\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('‚ùå Error cargando categor√≠as:', err);\r\n      setCategoriasError(err.message);\r\n      \r\n      const categoriasDefault = [\r\n        { id: 'supermercado', nombre: 'Supermercado', icono: 'üõí' },\r\n        { id: 'electrodomesticos', nombre: 'Electrodom√©sticos', icono: 'üè†' },\r\n        { id: 'jugueteria', nombre: 'Jugueter√≠a', icono: 'üß∏' },\r\n        { id: 'tecnologia', nombre: 'Tecnolog√≠a', icono: 'üíª' },\r\n        { id: 'bebidas', nombre: 'Bebidas', icono: 'ü•§' },\r\n      ];\r\n      setCategorias(categoriasDefault);\r\n    } finally {\r\n      setLoadingCategorias(false);\r\n    }\r\n  };\r\n\r\n  const contarProductosPorCategoria = (categoriaId) => {\r\n    if (!products || !Array.isArray(products)) return 0;\r\n    return products.filter(product => product.categoria === categoriaId).length;\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\r\n      <PromoCarousel />\r\n      \r\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        <div className=\"text-center mb-12\">\r\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\r\n            Cat√°logo de Productos\r\n          </h1>\r\n          <p className=\"text-xl text-gray-600\">\r\n            Descubre nuestra selecci√≥n de productos al mejor precio\r\n          </p>\r\n        </div>\r\n\r\n        <section className=\"mb-16\">\r\n          <div className=\"flex justify-between items-center mb-8\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900\">Nuestras Categor√≠as</h2>\r\n            <Link \r\n              href=\"/categorias\" \r\n              className=\"text-blue-600 hover:text-blue-800 font-semibold text-lg transition-colors\"\r\n            >\r\n              Ver todas ‚Üí\r\n            </Link>\r\n          </div>\r\n          \r\n          {categoriasError && (\r\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\r\n              <p className=\"text-yellow-800\">\r\n                <strong>Nota:</strong> {categoriasError}. Mostrando categor√≠as por defecto.\r\n              </p>\r\n            </div>\r\n          )}\r\n          \r\n          {loadingCategorias ? (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <div key={i} className=\"bg-white rounded-xl shadow-sm p-6 animate-pulse\">\r\n                  <div className=\"bg-gray-300 rounded-lg w-16 h-16 mx-auto mb-4\"></div>\r\n                  <div className=\"bg-gray-300 rounded h-4 w-3/4 mx-auto mb-2\"></div>\r\n                  <div className=\"bg-gray-200 rounded h-3 w-1/2 mx-auto\"></div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : categorias.length > 0 ? (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6\">\r\n              {categorias.map((categoria) => (\r\n                <Link\r\n                  key={categoria.id}\r\n                  href={`/categorias/${categoria.id}`}\r\n                  className=\"block bg-white rounded-xl shadow-sm border-2 border-transparent hover:border-blue-500 hover:shadow-xl transition-all duration-300 p-6 text-center group transform hover:-translate-y-1\"\r\n                >\r\n                  <div className=\"text-5xl mb-4 group-hover:scale-110 transition-transform duration-300\">\r\n                    {categoria.icono || 'üì¶'}\r\n                  </div>\r\n                  <h3 className=\"font-bold text-gray-900 text-lg group-hover:text-blue-600 transition-colors mb-2\">\r\n                    {categoria.nombre}\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-500 font-medium\">\r\n                    {contarProductosPorCategoria(categoria.id)} productos\r\n                  </p>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12 bg-white rounded-xl shadow-sm\">\r\n              <div className=\"text-6xl mb-4\">üì≠</div>\r\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                No hay categor√≠as disponibles\r\n              </h3>\r\n              <p className=\"text-gray-500\">\r\n                Las categor√≠as se cargar√°n pronto\r\n              </p>\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        <section>\r\n          <div className=\"flex justify-between items-center mb-8\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900\">Productos Destacados</h2>\r\n            <span className=\"text-gray-600 font-medium\">\r\n              {products?.length || 0} productos disponibles\r\n            </span>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-8\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"text-red-500 mr-3\">‚ö†Ô∏è</div>\r\n                <div>\r\n                  <strong className=\"text-red-800\">Error al cargar productos:</strong>\r\n                  <p className=\"text-red-700 mt-1\">{error}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            {products && products.length > 0 ? (\r\n              products.slice(0, 8).map((product) => (\r\n                <ProductCard \r\n                  key={product.id || product.barcode}\r\n                  product={product}\r\n                />\r\n              ))\r\n            ) : (\r\n              <div className=\"col-span-full text-center py-16 bg-white rounded-xl shadow-sm\">\r\n                <div className=\"text-6xl mb-4\">üò¥</div>\r\n                <h3 className=\"text-2xl font-semibold text-gray-900 mb-2\">\r\n                  No hay productos disponibles\r\n                </h3>\r\n                <p className=\"text-gray-600 text-lg\">\r\n                  Vuelve pronto para ver nuestro cat√°logo\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {products && products.length > 8 && (\r\n            <div className=\"text-center mt-12\">\r\n              <Link\r\n                href=\"/productos\"\r\n                className=\"inline-flex items-center px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl transition-colors duration-300 shadow-lg hover:shadow-xl\"\r\n              >\r\n                Ver todos los productos\r\n                <svg className=\"ml-3 w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                </svg>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </section>\r\n      </div>\r\n\r\n      {/* ‚ùå REMOVED: <Footer /> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport async function getServerSideProps(context) {\r\n  try {\r\n    const protocol = process.env.NODE_ENV === 'production' ? 'https' : 'http';\r\n    const host = context.req.headers.host;\r\n    const baseUrl = `${protocol}://${host}`;\r\n    \r\n    console.log('üîÑ Cargando productos desde:', `${baseUrl}/api/productos`);\r\n    \r\n    const res = await fetch(`${baseUrl}/api/productos`);\r\n    \r\n    if (!res.ok) {\r\n      throw new Error(`Error ${res.status}: ${res.statusText}`);\r\n    }\r\n\r\n    const data = await res.json();\r\n    \r\n    return {\r\n      props: {\r\n        products: data.data || [],\r\n        error: null,\r\n      },\r\n    };\r\n  } catch (err) {\r\n    console.error('‚ùå Error en getServerSideProps:', err);\r\n    return {\r\n      props: {\r\n        products: [],\r\n        error: err.message,\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\nexport default HomePage;"],"names":[],"mappings":"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"}}]
}